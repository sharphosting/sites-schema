{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"id": "https://sharphosting.uk/schemas/sites",
	"title": "Sites",
<<<<<<< HEAD
	"description": "Schema for data describing shared hosting website configurations.",
=======
	"description": "Schema for data describing web server configurations.",
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
	"type": "object",
	"properties": {
		"web_server": {
			"type": "object",
			"properties": {
<<<<<<< HEAD
				"type": { "type": "string" },
=======
				"type": {
					"type": "string",
					"pattern": "^[a-z]([a-z0-9_-]*[a-z])?$"
				},
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
				"user": { "type": "string" },
				"group": { "type": "string" }
			},
			"required": [ "type", "user", "group" ],
			"additionalProperties": false
		},
		"directory_structure": {
			"type": "object",
			"properties": {
				"user": { "type": "string" },
				"group": { "type": "string" },
<<<<<<< HEAD
				"d_mode": { "type": "string" },
				"f_mode": { "type": "string" },
				"directories": {
					"type": "object",
					"patternProperties": {
						"^[^/]+$": {
							"title": "Directory",
							"type": "object",
							"properties": {
								"user": { "type": "string" },
								"group": { "type": "string" },
								"d_mode": { "type": "string" },
								"f_mode": { "type": "string" },
								"optional": { "type": "string" },
								"optional_default": { "type": "boolean" },
								"allow_specials": { "type": "boolean" },
								"contents": {
									"user": { "type": "string" },
									"group": { "type": "string" },
									"d_mode": { "type": "string" },
									"f_mode": { "type": "string" }
								}
							},
							"additionalProperties": false
=======
				"d_mode": {
					"type": "string",
					"pattern": "^[0-7]{3,4}$"
				},
				"f_mode": {
					"type": "string",
					"pattern": "^[0-7]{3,4}$"
				},
				"directories": {
					"type": "object",
					"patternProperties": {
						"^[^/ ]+$": {
							"title": "Directory",
							"type": "object",
							"properties": {
								"allow_specials": { "type": "boolean" },
								"user": { "type": "string" },
								"group": { "type": "string" },
								"d_mode": {
									"type": "string",
									"pattern": "^[0-7]{3,4}$"
								},
								"f_mode": {
									"type": "string",
									"pattern": "^[0-7]{3,4}$"
								},
								"optional": {
									"type": "string",
									"pattern": "^[a-z]([a-z0-9_-]*[a-z])?$"
								},
								"optional_default": { "type": "boolean" },
								"contents": {
									"user": { "type": "string" },
									"group": { "type": "string" },
									"d_mode": {
										"type": "string",
										"pattern": "^[0-7]{3,4}$"
									},
									"f_mode": {
										"type": "string",
										"pattern": "^[0-7]{3,4}$"
									}
								}
							},
							"additionalProperties": false,
							"dependencies": {
								"optional_default": [ "optional" ]
							}
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
						}
					},
					"additionalProperties": false
				}
			},
			"required": [ "user", "group", "d_mode", "f_mode", "directories" ],
			"additionalProperties": false
		},
		"site_types": {
			"type": "object",
			"patternProperties": {
<<<<<<< HEAD
				"^[a-z]+$": {
=======
				"^[a-z]([a-z0-9_-]*[a-z])?$": {
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
					"title": "Site Type",
					"type": "object",	
					"properties": {
						"temp_dirs": {
							"type": "array",
							"items": {
								"type": "string",
<<<<<<< HEAD
								"pattern": "^(/[^/]+)+$"
=======
								"pattern": "^(/[^/ ]+)+$"
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
							}
						},
						"world_writable_dirs": {
							"type": "array",
							"items": {
								"type": "string",
<<<<<<< HEAD
								"pattern": "^(/[^/]+)+$"
=======
								"pattern": "^(/[^/ ]+)+$"
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
							}
						},
						"read_only_files": {
							"type": "array",
							"items": {
								"type": "string",
<<<<<<< HEAD
								"pattern": "^(/[^/]+)+$"
							}
=======
								"pattern": "^(/[^/ ]+)+$"
							}
						},
						"server_owned_files": {
							"type": "array",
							"items": {
								"type": "string",
								"pattern": "^(/[^/ ]+)+$"
							}
						},
						"ignore_permissions": {
							"type": "array",
							"items": {
								"type": "string",
								"pattern": "^(/[^/ ]+)+/?$"
							}
						},
						"options": {
							"type": "object",
							"patternProperties": {
								"^[a-z]([a-z0-9_-]*[a-z])?$": {
									"type": "boolean"
								}
							},
							"additionalProperties": false
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
						}
					},
					"additionalProperties": false
				}
			},
			"additionalProperties": false
		},
		"sites": {
			"type": "object",
			"patternProperties": {
<<<<<<< HEAD
				"^(/[^/]+)+$": {
					"title": "Site Folder",
					"type": "object",
					"properties": {
						"user": {
							"type": "string",
							"pattern": "^[a-z][a-z0-9]+$"
						},
						"type": {
							"type": "string"
=======
				"^(/[^/ ]+)+$": {
					"title": "Site Folder",
					"type": "object",
					"properties": {
						"user": { "type": "string" },
						"type": { "type": "string" },
						"temp_dirs": {
							"type": "array",
							"items": {
								"type": "string",
								"pattern": "^(/[^/ ]+)+$"
							}
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
						},
						"world_writable_dirs": {
							"type": "array",
							"items": {
								"type": "string",
<<<<<<< HEAD
								"pattern": "^(/[^/]+)+$"
=======
								"pattern": "^(/[^/ ]+)+$"
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
							}
						},
						"read_only_files": {
							"type": "array",
							"items": {
								"type": "string",
<<<<<<< HEAD
								"pattern": "^(/[^/]+)+$"
=======
								"pattern": "^(/[^/ ]+)+$"
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
							}
						},
						"server_owned_files": {
							"type": "array",
							"items": {
								"type": "string",
<<<<<<< HEAD
								"pattern": "^(/[^/]+)+$"
=======
								"pattern": "^(/[^/ ]+)+$"
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
							}
						},
						"ignore_permissions": {
							"type": "array",
							"items": {
								"type": "string",
<<<<<<< HEAD
								"pattern": "^(/[^/]+)+/?$"
=======
								"pattern": "^(/[^/ ]+)+/?$"
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
							}
						},
						"options": {
							"type": "object",
							"patternProperties": {
<<<<<<< HEAD
								"^[a-zA-Z0-9_]+$": {
=======
								"^[a-z]([a-z0-9_-]*[a-z])?$": {
>>>>>>> 08261405e432ef37831ecd59d9170f266bf3af02
									"type": "boolean"
								}
							},
							"additionalProperties": false
						}
					},
					"required": [ "user", "type" ],
					"additionalProperties": false
				}
			},
			"additionalProperties": false
		}
	},
	"additionalProperties": false
}
